import numpy as np
import pandas as pd
import covidfuncs.dffuncs as cvdff

# CSSE John Hopkins University, git-repository
coviddata_csse_all = pd.read_csv(
"/home/jke/covid19/COVID-19/csse_covid_19_data/csse_covid_19_time_series/time_series_19-covid-Confirmed.csv",
    sep=',',
)


def coviddata_csse(n_country, is_add_log=False, is_add_growth_factor=False):
    """
    Reading country input from CSSE data
    """


    coviddata_csse = pd.DataFrame(
        [
            coviddata_csse_all[col][n_country]
            for col in coviddata_csse_all.columns[4:]
        ],
        index=[
            pd.Timestamp(colname) for colname in coviddata_csse_all.columns[4:]
        ],
        columns=["Confirmed"],
    )
    coviddata_csse.name = ("CSSE-JHU " +
                           coviddata_csse_all["Country/Region"][n_country])

    if is_add_log:
        coviddata_csse = cvdff.add_log(coviddata_csse, "Confirmed")

    if is_add_growth_factor:
        coviddata_csse = cvdff.add_growth_factor(coviddata_csse, "Confirmed")

    return coviddata_csse


def covid_country(n_country):
    """
    Reading country input from CSSE data
    """

    return coviddata_csse_all["Country/Region"][n_country]
